:root {
  --cor-primaria: #783C00;        
  --cor-primaria-hover: #783C00;  

  /* Tons de Cinza para Texto e Fundo */
  --cor-texto-principal: #1f2937; 
  --cor-texto-secundario: #4b5563;
  --cor-texto-sutil: #FFDCC5; 
  --cor-texto-contraste: #ffffff; 
  --cor-fundo-header: #ffffff; 
  --cor-fundo-escuro: #4A2712;    
  --cor-fundo-claro: #f9fafb;  
  --cor-fundo-medio: #f3f4f6;  
  --cor-borda: #e5e7eb;

  /* Cores de Feedback (opcional, mas útil) */
  --cor-erro: #dc2626;            /* red-600 */
  --cor-sucesso: #16a34a;          /* green-600 */
}

/* Tailwind CSS styles */
/* Custom styles */
html {
    /* Adiciona um espaçamento no topo ao rolar para uma âncora, evitando que o header cubra o título */
    scroll-padding-top: 100px; 
}
body {
    font-family: 'Inter', sans-serif;
    background-color: var(--cor-fundo-claro);
    /* Adiciona padding no topo para não ficar atrás do header fixo */
    /* padding-top: 60px;  */
}
/* Adicione esta transição ao header para suavizar a mudança de cor */
header {
    transition: background-color 0.3s ease-in-out;
}
/* Crie esta nova classe para o estado do header após a rolagem */
.header-scrolled {
    background-color: var(--cor-fundo-escuro) !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}
.hero-section {
    background: linear-gradient(rgba(10, 34, 64, 0.6), rgba(10, 34, 64, 0.7)),
    url('/img/background.jpeg') no-repeat center center;
    background-size: cover;
    /* Adicione um padding-top aqui para o conteúdo não ficar colado no topo */
    padding-top: 8rem; /* Ajuste conforme necessário */
}
.hero-section-library {
    background: linear-gradient(rgba(10, 34, 64, 0.6), rgba(10, 34, 64, 0.7)),
    url('/img/biblioteca.jpg') no-repeat center center;
    background-size: cover;
}
.card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card:hover {
    transform: translateY(-8px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.nav-link {
    display: block;
    padding: 0rem 0rem;
    border-radius: 0.375rem;
    font-size: 1rem;
    font-weight: 500;
    color: var(--cor-texto-secundario);
    transition: color 0.2s, background-color 0.2s;
}

.nav-link:hover {
    color: var(--cor-primaria);
    background-color: var(--cor-fundo-medio);
}

.nav-link.active {
    color: var(--cor-primaria-hover);
    font-weight: 600;
}

@media (min-width: 768px) {
    .nav-link {
        display: inline-block;
    }
}

/* ========================================================================== */
/* ESTILIZAÇÃO FINAL E UNIFICADA PARA CHOICES.JS                    */
/* ========================================================================== */

/* --- Contêiner Principal (A caixa visível) --- */
.choices__inner {
  background-color: white;
  padding: 0;
  padding-left: 0.75rem; /* 12px */
  border: 1px solid #d1d5db; /* gray-300 */
  border-radius: 0.375rem; /* rounded-md */
  min-height: auto;
  display: flex;
  align-items: center;
  min-height: 42px; /* Garante altura consistente */
}

/* Destaca a borda quando o seletor está aberto */
.is-open .choices__inner {
  border-color: #E2893A; /* Cor primária */
}

/* --- Itens Selecionados (Tags para seleção múltipla) --- */
.choices__list--multiple .choices__item {
    background-color: #E2893A; /* Cor primária */
    border-color: #c5722a;     /* Tom mais escuro */
    color: white;
    border-radius: 0.25rem;
    margin-top: 2px;
    margin-bottom: 2px;
}

/* Estiliza o botão de remover (o "x" na tag) */
.choices[data-type*="select-multiple"] .choices__button {
    filter: invert(100%) grayscale(100%) brightness(200%);
    opacity: 0.75;
    border-left: 1px solid rgba(197, 114, 42, 0.8); /* Tom mais escuro com transparência */
    margin-left: 8px;
}
.choices[data-type*="select-multiple"] .choices__button:hover {
    opacity: 1;
    background-color: #c5722a;
}


/* --- Lista Suspensa (Dropdown) --- */
.choices__list--dropdown {
    border-radius: 0.375rem;
    border: 1px solid #d1d5db;
    margin-top: 4px;
}

.choices__list--dropdown .choices__list {
  max-height: 50px;
  overflow-y: auto;
}

/* Caixa de busca DENTRO do dropdown */
.choices__list--dropdown .choices__input {
    border: 1px solid #d1d5db;
    border-radius: 0.375rem;
    padding: 0.5rem 0.75rem;
    margin: 8px;
    width: calc(100% - 16px);
    background-color: #f9fafb;
    font-size: 0.875rem;
}

/* Itens na lista suspensa */
.choices__list--dropdown .choices__item {
    font-size: 0.875rem;
    line-height: 1.25rem;
    padding: 0.5rem 0.75rem;
}

/* Efeito de HOVER e item SELECIONADO na lista */
.choices__list--dropdown .choices__item--selectable.is-highlighted {
    background-color: #f3f4f6; /* Cinza-100, para um hover sutil */
    color: #1f2937;
}


/* --- Barra de Rolagem --- */
.choices__list--dropdown .choices__list::-webkit-scrollbar {
  width: 8px;
}
.choices__list--dropdown .choices__list::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 10px;
}
.choices__list--dropdown .choices__list::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 10px;
}
.choices__list--dropdown .choices__list::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}


/* Estilo para os ícones Font Awesome (provavelmente você já tem algo assim) */
/* Em seu arquivo de estilos (style.css, etc.) */

/* NOVO ESTILO para ícones SVG usando a técnica de máscara */

.pilar a .icone-svg {
  width: 60px;
  height: 60px;
  background-color: var(--cor-primaria); /* Cor primária do ícone */
  
  -webkit-mask-image: var(--mask-image);
  mask-image: var(--mask-image);
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  mask-position: center;

  transition: background-color 0.3s ease;
}


/* EFEITO HOVER UNIFICADO */
.pilar a:hover i {
  color: #A0522D; /* Nova cor no hover */
}

.pilar a:hover .icone-svg {
  background-color: #A0522D; /* Nova cor no hover */
}

.icone-svg-header {
  display: inline-block;
  vertical-align: middle; /* Alinha o ícone com o texto ao lado, se houver */
  /* Adicione esta linha para dar uma cor base ao ícone */
  /* background-color: var(--cor-primaria); */
  -webkit-mask-image: var(--mask-image);
  mask-image: var(--mask-image);
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  mask-position: center;
}

/* Toolbar ODS */
.ods-toolbar button { transition: all .15s ease; }
.ods-toolbar button.is-active{
  background: var(--cor-primaria, #1d4ed8);
  color:#fff; border-color: var(--cor-primaria, #1d4ed8);
  box-shadow: 0 1px 0 rgba(0,0,0,.06);
}

/* === Tabela de Indicadores: cores por faixa de % === */
td.pct { font-variant-numeric: tabular-nums; transition: background-color .15s ease; }

/* <50% crítico (vermelho) */
td.pct.pct-critico { background:#fee2e2; color:#7f1d1d; }

/* <75% atenção (amarelo) */
td.pct.pct-atencao { background:#fef9c3; color:#7c2d12; }

/* <90% azul claro */
td.pct.pct-regular { background:#e0f2fe; color:#0c4a6e; }

/* >=90% azul “escuro” (tinta mais forte, texto legível) */
td.pct.pct-alto { background:#bfdbfe; color:#1e3a8a; }

/* legenda compacta */
.tbl-legend { display:flex; gap:.75rem; align-items:center; font-size:.75rem; color:var(--texto-sutil,#64748b); margin-bottom:.5rem; }
.tbl-legend .sw { width:12px; height:12px; border-radius:3px; border:1px solid rgba(0,0,0,.06); display:inline-block; }
.tbl-legend .sw.critico { background:#fee2e2; }
.tbl-legend .sw.atencao { background:#fef9c3; }
.tbl-legend .sw.regular { background:#e0f2fe; }
.tbl-legend .sw.alto    { background:#bfdbfe; }

/* === Tabela: rolagem horizontal + primeira coluna fixa === */
.tbl-scroll{ overflow-x:auto; -webkit-overflow-scrolling:touch; }
.tbl-scroll table{ min-width: 720px; } /* ajuste se quiser mais largo */

/* primeira coluna sticky (th e td) */
th.sticky-col, td.sticky-col{
  position: sticky;
  left: 0;
  z-index: 2;              /* acima das células comuns */
  background: inherit;     /* usa o bg da linha (odd/even) */
}

/* cabeçalho precisa ficar acima do td sticky */
thead th.sticky-col{
  z-index: 3;
  background: #f3f4f6;     /* equivalente ao bg-gray-100 */
}

/* utilitário caso seu build não tenha Tailwind */
.text-right{ text-align: right; }

/* === Seletor de Localidade no Header (fixo à direita) === */
/* === Seletor de Localidade no Header (fixo e responsivo) === */
:root{
  /* largura “reservada” pros ícones do header à direita.
     Ajustes por breakpoint logo abaixo. */
  --hdr-icons-w: 420px;
  --hdr-top: 10px;
}

/* breakpoints (ajuste se seu layout usar outros) */
@media (max-width: 1536px){ :root{ --hdr-icons-w: 360px; } }
@media (max-width: 1280px){ :root{ --hdr-icons-w: 280px; } }
@media (max-width: 1024px){ :root{ --hdr-icons-w: 180px; } }
@media (max-width: 768px) { :root{ --hdr-icons-w: 12px;  } } /* celular: encosta na borda */

/* slot fixo no topo, antes dos ícones */
.header-localidade-slot{
  position: fixed;
  top: var(--hdr-top);
  right: calc(var(--hdr-icons-w) + env(safe-area-inset-right));
  z-index: 60;
  display: flex; align-items: center; gap: .5rem;
  padding-right: env(safe-area-inset-right); /* iPhone com notch */
}

/* largura adaptativa do controle (entre 160 e 300px conforme viewport) */
.header-localidade-slot .ts-control{
  width: clamp(160px, 24vw, 300px);
  min-width: 0; /* evita overflow em telas muito estreitas */
  max-width: 90vw;
}

/* texto do item com reticências se estreitar */
.header-localidade-slot .ts-control .item{
  max-width: 100%;
  overflow: hidden; white-space: nowrap; text-overflow: ellipsis;
}

/* afinando em telas pequenas */
@media (max-width: 768px){
  .header-localidade-slot{ top: 8px; }
  .header-localidade-slot .ts-control{ width: clamp(150px, 48vw, 220px); }
}

/* === Cards/Badges do Resumo === */
.resumo-card{
  border:1px solid #e5e7eb; border-radius:12px; padding:16px; background:#fff;
  box-shadow: 0 1px 2px rgba(0,0,0,.04);
}
.resumo-grid{ display:grid; gap:8px; }
.rank-grid{ display:grid; grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); gap:8px; }

.rank-card{
  border:1px solid #e5e7eb; border-radius:10px; padding:12px; background:#fafafa;
}
.rank-card .rk-label{ font-size:.8rem; color:#64748b; }
.rank-card .rk-main{ font-weight:700; font-size:1.1rem; color:#111827; }
.rank-card .rk-sub{ font-size:.8rem; color:#6b7280; }

.trend-badge{ display:inline-flex; align-items:center; gap:.4rem;
  font-weight:600; font-size:.85rem; padding:.25rem .5rem; border-radius:999px;
}
.trend-up   { color:#065f46; background:#d1fae5; }
.trend-flat { color:#1f2937; background:#e5e7eb; }
.trend-down { color:#7f1d1d; background:#fee2e2; }
.trend-badge svg{ width:14px; height:14px; }


/* === Card “Metodologia” (reusa estética do resumo-card) === */
.metodo-card.resumo-card{ display:flex; justify-content:space-between; align-items:center; gap:1rem; }
.metodo-card .lead{ color:#374151; }
.metodo-card .saiba-mais{ text-decoration: underline; cursor: pointer; color:#1d4ed8; }
.metodo-card .saiba-mais:hover{ color:#1e40af; }

/* === Modal genérico (sem libs) === */
.metodo-modal{
  position: fixed; inset: 0; display: none; z-index: 90;
}
.metodo-modal.is-open{ display:block; }
.metodo-modal__backdrop{
  position:absolute; inset:0; background: rgba(0,0,0,.45);
}
.metodo-modal__panel{
  position: relative; max-width: 760px; margin: 6vh auto; background:#fff;
  border-radius: 12px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,.2);
}
.metodo-modal__close{
  position:absolute; top:10px; right:12px; width:32px; height:32px;
  border-radius: 8px; border:1px solid #e5e7eb; background:#fff; cursor:pointer; font-size:18px; line-height:1;
}
.metodo-modal__close:hover{ background:#f9fafb; }

/* Contêiner da tooltip precisa ter posição relativa */
.tooltip-container {
  position: relative;
  display: inline-block; /* Ou block, dependendo do seu layout */
}

/* Estilo da tooltip (inicialmente escondida) */
.tooltip-container .tooltip-text {
  visibility: hidden;
  width: 200px; /* Largura da tooltip */
  background-color: #333; /* Cor de fundo */
  color: #fff; /* Cor do texto */
  text-align: center;
  border-radius: 6px;
  padding: 8px;
  
  /* Posicionamento */
  position: absolute;
  z-index: 1;
  bottom: 105%; /* Posiciona acima do elemento */
  left: 50%;
  margin-left: -100px; /* Metade da largura para centralizar */
  
  /* Efeito de fade */
  opacity: 0;
  transition: opacity 0.3s;
}

/* Mostra a tooltip quando o mouse passa sobre o contêiner */
.tooltip-container:hover .tooltip-text {
  visibility: visible;
  opacity: 1;
}

/* (Opcional) Adiciona uma seta/triângulo abaixo da tooltip */
.tooltip-container .tooltip-text::after {
  content: "";
  position: absolute;
  top: 100%; /* Na parte de baixo da tooltip */
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: #333 transparent transparent transparent;
}